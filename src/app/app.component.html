<h2>Produtos</h2>

@for (p of produtos; track p.id) {
  <p>
    {{ p.nome }} - R$ {{ p.preco }} - {{ p.quantidade }} unidades
    @if (p.estoqueBaixo) {
      <span>⚠️ Estoque baixo</span>
    }
  </p>
}

<h2>Cadastrar Produtos</h2>

<form [formGroup]="produtoForm" (ngSubmit)="criarProduto()">
  <input type="text" placeholder="Nome do produto" formControlName="nome" />

  <input type="number" placeholder="Quantidade" formControlName="quantidade" />

  <input
    type="number"
    placeholder="Preço"
    formControlName="preco"
    step="0.01"
  />

  <button type="submit" [disabled]="produtoForm.invalid">Criar Produto</button>
  @if (produtoForm.get("nome")?.invalid && produtoForm.get("nome")?.touched) {
    <div>Nome é obrigatório</div>
  }
</form>
